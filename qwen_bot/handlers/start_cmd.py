from aiogram import Router
from aiogram.types import Message, ReplyKeyboardMarkup, KeyboardButton
from aiogram.filters import Command

router = Router()


@router.message(Command("start"))
async def cmd_start(message: Message):
    user_first_name = message.from_user.first_name or "—Å—Ç—É–¥–µ–Ω—Ç"
    welcome_text = (
        f"–ü—Ä–∏–≤–µ—Ç, {user_first_name}! üëã\n\n"        
    "–°–µ–π—á–∞—Å –º–Ω–æ–≥–∏–º –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Å–¥–∞–≤–∞—Ç—å —ç–∫–∑–∞–º–µ–Ω—ã –æ–Ω–ª–∞–π–Ω ‚Äî –ø–æ–¥ –ø—Ä–∏—Å—Ç–∞–ª—å–Ω—ã–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º –ø—Ä–æ–∫—Ç–æ—Ä–∏–Ω–≥–∞. "
    "–¢–∞–∫–æ–π –æ–ø—ã—Ç —á–∞—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–µ—Å—Å, —Ç—Ä–µ–≤–æ–≥—É –∏ –¥–∞–∂–µ –ø–∞–Ω–∏–∫—É, –∞ —ç—Ç–æ, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –º–µ—à–∞–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞–Ω–∏—è.\n\n"
    "–ú—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–º–æ–∂–µ–º –≤–∞–º –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —ç–∫–∑–∞–º–µ–Ω—É ‚Äî —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ "
    "–º—ã –ø–æ–¥–¥–µ—Ä–∂–∏–º –≤–∞—Å –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö:\n"
        "üîπ –æ–±—Ä–∞–±–æ—Ç–∞–µ–º –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ,\n"
        "üîπ –ø—Ä–æ—Ä–µ—à–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è,\n"
        "üîπ –∏ –¥–∞–∂–µ –ø–æ–º–æ–∂–µ–º —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å –æ—Å–æ–±–µ–Ω–Ω–æ —Å–ª–æ–∂–Ω—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –≤–æ –≤—Ä–µ–º—è —Å–¥–∞—á–∏.\n\n"
        "–ù–æ –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ —ç–∫–∑–∞–º–µ–Ω –≤–∞—Å –∂–¥—ë—Ç.\n\n"
        "–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Äî –∏ –ò–ò –Ω–∞—á–Ω—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –≤–∞—à —É—Å–ø–µ—Ö.\n\n"
        "–ì–æ—Ç–æ–≤—ã? –ù–∞–∂–º–∏—Ç–µ ¬´üìù –ù–∞—á–∞—Ç—å –∞–Ω–∫–µ—Ç—É¬ª –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ /survey."
    )

    keyboard = ReplyKeyboardMarkup(
        keyboard=[
            [KeyboardButton(text="üìù –ù–∞—á–∞—Ç—å –∞–Ω–∫–µ—Ç—É")]
        ],
        resize_keyboard=True,
        one_time_keyboard=False  # –æ—Å—Ç–∞—ë—Ç—Å—è, —á—Ç–æ–±—ã –±—ã–ª–æ —É–¥–æ–±–Ω–æ
    )

    await message.answer(welcome_text, reply_markup=keyboard)